{% extends 'base.html' %}

{% block title %}{{ author.name }} - –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞{% endblock %}

{% block content %}
<div class="author-header">
    <div class="author-avatar author-detail-avatar {% if not author.avatar_url %}no-avatar{% endif %}" 
         {% if author.avatar_url %}style="background-image: url('{{ author.avatar_url }}')"{% endif %}>
        {% if not author.avatar_url %}
            üë§<br>–ù–µ—Ç –∞–≤–∞—Ç–∞—Ä–∞
        {% endif %}
    </div>
    
    <div class="author-info">
        <h1 class="author-detail-name">{{ author.name }}</h1>
        
        {% if author.bio %}
            <div class="author-detail-bio">
                {{ author.bio|linebreaks }}
            </div>
        {% endif %}
        
        <div class="books-count">
            üìö –ö–Ω–∏–≥ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ: {{ books|length }}
        </div>
    </div>
</div>

<h2 class="section-title">üìñ –ö–Ω–∏–≥–∏ –∞–≤—Ç–æ—Ä–∞</h2>

{% if books %}
    <div class="books-grid">
        {% for book in books %}
        <div class="book-card">
            <div class="book-cover {% if not book.cover_url %}no-cover{% endif %}" 
                 {% if book.cover_url %}style="background-image: url('{{ book.cover_url }}')"{% endif %}>
                {% if not book.cover_url %}
                    üìñ –ù–µ—Ç –æ–±–ª–æ–∂–∫–∏
                {% endif %}
            </div>
            
            <h3 class="book-title">{{ book.title }}</h3>
            <p class="book-meta">üìÖ –ì–æ–¥: {{ book.year }}</p>
            {% if book.description %}
                <p class="book-meta">{{ book.description|truncatewords:10 }}</p>
            {% endif %}
            
            <a href="{% url 'book_detail' book.id %}">
                <button class="btn btn-read">üìñ –ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>
            </a>
        </div>
        {% endfor %}
    </div>
{% else %}
    <div class="no-data">
        üìö –£ —ç—Ç–æ–≥–æ –∞–≤—Ç–æ—Ä–∞ –ø–æ–∫–∞ –Ω–µ—Ç –∫–Ω–∏–≥ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ
    </div>
{% endif %}

<a href="{% url 'book_list' %}" class="btn btn-back">‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É –∫–Ω–∏–≥</a>
{% endblock %}